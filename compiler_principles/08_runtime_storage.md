# 8. 运行时存储组织

## 逻辑存储区域

保留地址区：不允许用户访问

代码区：存放代码

**静态数据区**：静态的全局数据

共享区和分别编译模块区：通过链接器linker，把运行时支持（IO/storage/debugging）和外部包（数学库）装入到当前的存储空间

**动态数据区**：运行时动态变化的**堆区**和**栈区**，一般堆从低向高，栈从高往低

### 静态存储分配

编译期间确定对象大小和数目

通常将地址对应到(DataAreaStart, Offset)，DataAreaStart在运行时确定

### 栈式存储分配

使用活动记录作为栈式分配的存储单元

### 堆式存储分配

存储分配方式：怎样得到堆式存储

​	显式/隐式的空间分配和释放命令

存储分配算法：得到的是哪一块

​	最佳适应算法：空间浪费最少；

​	最先适应算法：最先找到的满足要求的块；

​	循环最先适应算法：每次起点不同

## 活动记录

### 栈帧

过程活动记录=栈帧

其中的数据一般采用寄存器偏址寻址方式来访问

